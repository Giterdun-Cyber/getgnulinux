# @configure_input@

PACKAGE = @PACKAGE@
VERSION = @VERSION@

SUBDIRS = po docroot

GULP = npx gulp

top_srcdir = .

.PHONY: build
build: install
	$(GULP) build

.PHONY: deploy-dev
deploy-dev:
	$(GULP) deploy:dev

.PHONY: deploy
deploy:
	$(GULP) deploy:prod

.PHONY: update-po
update-po: po
	$(MAKE) -C $< $@

.PHONY: update-gmo
update-gmo: po
	$(MAKE) -C $< $@

.PHONY: install
install: $(SUBDIRS)
	for subdir in $(SUBDIRS); do \
	  $(MAKE) -C $$subdir $@ || exit 1; \
	done

dist:

.PHONY: clean
clean: $(SUBDIRS)
	for subdir in $(SUBDIRS); do \
	  $(MAKE) -C $$subdir $@ || exit 1; \
	done

.PHONY: maintainer-clean
maintainer-clean: $(SUBDIRS)
	for subdir in $(SUBDIRS); do \
	  $(MAKE) -C $$subdir $@ || exit 1; \
	done
	rm -fr autom4te.cache
	rm -f config.log config.status configure install-sh Makefile missing

Makefile: Makefile.in $(top_srcdir)/config.status
	$(top_srcdir)/config.status $@

$(top_srcdir)/config.status: $(top_srcdir)/configure
	$(top_srcdir)/config.status --recheck
